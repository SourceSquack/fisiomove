<div class="calendar-card">
  <div class="calendar-header">
    <button class="nav-btn" (click)="previousMonth()" [disabled]="isLoading">
      <i class="fas fa-chevron-left"></i>
    </button>
    <span class="month-name">{{ currentMonth }}</span>
    <button class="nav-btn" (click)="nextMonth()" [disabled]="isLoading">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>
  
  <div class="calendar-grid">
    <!-- Nombres de días -->
    <div *ngFor="let dayName of dayNames" class="day-name">
      {{ dayName }}
    </div>
    
    <!-- Días del calendario -->
    <div 
      *ngFor="let day of calendarDays" 
      class="day"
      [class.other-month]="!day.isCurrentMonth"
      [class.today]="day.isToday"
      [class.selected]="day.isSelected"
      [class.with-appointments]="day.hasAppointments"
      [class.current-month]="day.isCurrentMonth"
      (click)="onDayClick(day)"
      [title]="day.hasAppointments ? day.appointmentsCount + ' cita(s)' : ''"
    >
      {{ day.date }}
      <span *ngIf="day.hasAppointments && day.appointmentsCount > 1" class="appointments-count">
        {{ day.appointmentsCount }}
      </span>
    </div>
  </div>
  
  <div class="calendar-legend">
    <div class="legend-item">
      <span class="dot today-dot"></span> Hoy
    </div>
    <div class="legend-item">
      <span class="dot selected-dot"></span> Seleccionado
    </div>
    <div class="legend-item">
      <span class="dot appointments-dot"></span> Con citas
    </div>
  </div>
  
  <div *ngIf="isLoading" class="calendar-loading">
    <div class="spinner"></div>
    <span>Cargando citas...</span>
  </div>
</div>
